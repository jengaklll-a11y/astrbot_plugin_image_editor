# 通过第三方柏拉图api调用各大平台图片编辑模型
注册地址 [柏拉图1](https://api.bltcy.ai/register?aff=3hiF)，注册地址 [柏拉图2](https://api.bltcy.ai/register?aff=cKgq)
## 功能特性
- **多风格转换**：内置改图预设模板。
- **自定义生成**：使用 `#bnn <提示词>` 指令，可以完全自定义 Prompt 进行创作。
- **灵活的输入方式**：支持直接发送图片、回复图片、或`@用户`来使用其头像进行制作。
- **强大的管理功能 (管理员限定)**：
  - **Key 管理**：通过指令动态添加、查看、删除 API Key，支持配置多个 Key 并自动轮换使用。
  - **用户/群组次数管理**：可为普通用户设置使用次数，并通过指令进行增加/减少和查询，实现轻量级付费或激励机制。
- **高度可定制**：所有指令的默认提示词（Prompt）都在后台配置文件中开放，可随时按自己的喜好进行微调。
- **代理支持**：内置网络代理支持，方便在特殊网络环境下部署。

## 安装与配置

### 安装

2.  将该文件夹放入 `astrbot/plugins` 目录下。
3.  重启 AstrBot。

### 配置

在 AstrBot 管理面板的 `插件管理` -> `astrbot_plugin_jimeng` 中进行配置。

| 配置项             | 类型   | 描述                                                                                                                              |
| ------------------ | ------ | --------------------------------------------------------------------------------------------------------------------------------- |
| `api_url`          | 字符串 | **(必需)** API 的请求地址。                                                                                                       |
| `api_keys`         | 列表   | **(必需)** 你的 API 密钥。可以通过 `/手办化添加key` 指令管理，支持多个 Key。                                                             |
| `use_proxy`        | 开关   | 是否为插件启用网络代理。                                                                                                          |
| `proxy_url`        | 字符串 | 代理服务器地址，例如 `http://127.0.0.1:7890`。                                                                                    |
| `help_text`        | 文本   | 自定义 `/lm帮助` 指令回复的内容。                                                                                             |
| `prompts`          | 对象   | **(核心)** 在这里自定义所有指令（如 `/手办化`、`/玩偶化` 等）的生成提示词。                                                          |

## 使用方法

- **发送图片**并使用命令。
- **引用**含有图片的消息并使用命令。
- **@某人**并使用命令 (将使用该用户的头像)。

---
## 新增-考虑移除
新增签到系统，文生图功能和自定义模型
## 📖 命令列表

### 预设模板命令查看
/lm帮助

### 👑 管理命令 (仅主人)

| 命令 | 功能说明 |
| :--- | :--- |
| `/手办化添加key <key1>...` | 添加一个或多个API密钥 |
| `/手办化key列表` | 查看API密钥列表 |
| `/手办化删除key <序号\|all>` | 删除API密钥 |
| `/手办化增加用户次数 <QQ号> <次数>` | 为用户增加使用次数 |
| `/手办化减少用户次数 <QQ号> <次数>` | 为用户增加使用次数 |
| `/手办化增加群组次数 <Q群号> <次数>` | 为群组增加使用次数 |
| `/手办化减少群组次数 <Q群号> <次数>` | 为群组增加使用次数 |
| `/手办化查询次数 <QQ号>` | 查询指定用户剩余次数 |

---

## 注
本插件fork自shskjw的astrbot_plugin_shoubanhua项目，基于维拉大佬写的js改的。
